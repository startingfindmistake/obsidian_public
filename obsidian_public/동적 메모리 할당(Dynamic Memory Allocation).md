
**정의**
- 동적 메모리 할당은 프로그램이 **실행시점(runtime)** 에 프로그래머의 필요에 의해 메모리 크기가 결정되고 할당되는 방식입니다.
  이렇게 할당된 메모리는 프로그래머가 명시적으로 해제하기 전까지 유지됩니다.

**특징**
- **할당시점**: 프로그램 실행 시점. 사용자의 입력이나 프로그램의 특정 조건에 따라 필요한 메모리 양이 결정 될 때 할당합니다.
- **메모리 영역: 힙 세그먼트 (Heap Segment)** :힙은 프로그램 실행 중에 동적으로 할당되고 해제될 수 있는 큰 메모리 공간입니다.
- **크기 결정** : 실행 시점에 크기를 결정할 수 있습니다. 즉, 프로그램이 실행되면서 필요한 만큼의 메로리를 요청할 수 있습니다.
- **수명(Life tiem)**: 프로그래머가 `malloc()`, `calloc()`, `new`(C++) 등으로 할당한 후,
  `free()`, `delete`(C++) 등으로 명시적으로 해제 할때까지 유지됩니다
  
  해제 하지 않으면 프로그램이 종료될 때까지 메모리가 남아있게 되어 **메모리 누수(memory mark)** 가 발생할 수 있습니다.

- **관리 주체:** 프로그래머가 직접 관리해야 합니다.
  필요한 시점에 할당하고, 사용이 끝나면 반드시 해제해야 합니다.
- **속도:** 메모리를 할당하고 해제하는 과정에 오버헤드가 있어 정적 할당보다 상대적으로 느릴 수 있다


**장점**
- 프로그램 실행 중에 필요한 만큼의 메모리만 할당하여 사용할 수 있으므로 메모리를 효율적으로 사용할 수 있습니다
- 컴파일 시점에 메로리 크기를 예측할 수 없는 경우에 유용하다.(사용자 입력에 따라 배열 크기가 달라지는 경우)
- 스택 메모리 크기는 제한적이므로, 매우 큰 배열이나 데이터 구조는 힙에 동적으로 할당하는 것이 일반적이다.

**단점**
- 프로그래머가 직접 메모리를 할당하고 해제해야 하므로 관리가 복잡하다.
  해제를 하면 메모리 누수가 발생하고, 이미 해제된 메모리에 접근하면 **댕글링 포인터(dangling pointer)** 문제가 발생할 수 있다.
- 힙 영역에서 메모리를 할당하고 해제하는 과정이 반복되다 보면, 총 가용 메모리는 충분하지만 연속된 큰 메모리 블록이 없어 할당에 실패하는 메모리 단편화 현상이 발생할 수 있습니다
- 메모리를 할당하고 해제하는 시스템 호출은 시간이 소요되므로 정적 할당보다 성능이 저하될 수 있습니다.
- 할당 실패(메모리 부족), 이중 해제, 해제 후 사용 등 오류가 발생하기 쉽다

```c
#include <stdio.h>
#include <stdlib.h>    // malloc, free 함수를 사용하기 위해 필요

int main() {
	int n;
	int* arr;

	printf(" 배열의 크기를 입력하세요: ");
	scanf("%d", &n);

	// n개의 정수를 저장할 공간을 힙(heap)에 동적으로 할당
	arr = (int*)malloc(n * sizeof(int));

	// 할당 성공 여부 확인
	if (arr == NULL) {
		printf("메모리 할당 실패!\n")
		return 1; // 오류 종료
	}

	// 할당된 메모리 사용
	for (int i = 0; i < n; i++) {
		arr[i] = i * 10;
		printf("arr[%d] = %d\n", i, arr[i]);
	}

	// 사용이 끝난 동적 메모리 해제
	free(arr);
	arr = NULL; // 댕글링 포인터 방지를 위해 NULL로 초기화

	return 0;

	
}

```
